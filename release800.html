<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>Crypto++ Library | 8.0 Release</title>
  <meta name="description" content=
  "free C++ library for cryptography: includes ciphers, message authentication codes, one-way hash functions, public-key cryptosystems, key agreement schemes, and deflate compression">
  <meta name="keywords" content=
  "Crypto++, CryptoPP, crypto, cryptography, cryptographic, security, free, open source, public domain, library, C++, SSE2, SSE4, AESNI, RDRAND, RDSEED, NEON, ASIMD, cipher, ciphers, code, codes, scheme, schemes, hash, digest, cryptosystem, key agreement, AES, DH, RSA, DSA, DES, SHA, HMAC, HKDF, elliptic curve">
  <link rel="stylesheet" type="text/css" href="cryptopp.css">
</head>

<body>
  <!-- Child pages menu bar at top of page. Differs from home page -->

  <table border="0" cellpadding="8" cellspacing="0" bgcolor="#FFFFCC" summary="Menu bar">
    <tbody>
      <tr>
        <td><b><big><a href="index.html">Home Page</a></big></b></td>

        <td><a href="index.html#download">Download</a></td>

        <td><a href="docs/ref/">Manual</a></td>

        <td><a href="//github.com/weidai11/cryptopp">GitHub</a></td>

        <td><a href="wiki/">Mediawiki</a></td>

        <td><a href="index.html#lists">Mailing lists</a></td>

        <td><a href="index.html#contributions">Contributions</a></td>

        <td><a href="wiki/Related_Links">Related links</a></td>
      </tr>
    </tbody>
  </table>

  <h2>Crypto++ 8.0</h2>

  <p>Crypto++ 8.0 was released on December 28, 2018. The 8.0.0 release was a major,
  planned release. There are no CVEs or memory errors.</p>

  <p>This release was scheduled as a minor version bump, but we lost ABI compatibility
  due to adding <tt>AlgorithmProvider</tt> at <a href=
  "https://github.com/weidai11/cryptopp/pull/681">PR 681</a>.</p>

  <h2>Download</h2>

  <p>The download is available from the Crypto++ website. The checksums for the download
  are below. Release signatures can be verified using GnuPG according to <a href=
  "signing.html">Release Signing</a>.</p>

  <ul>
    <li>Download: <a href="cryptopp800.zip">cryptopp800.zip</a>, <a href=
    "cryptopp800.zip.sig">cryptopp800.zip.sig</a></li>

    <li>SHA1: dd0dc0586c0a3e0696cd323efc6fa2e2945ad920</li>

    <li>SHA256: bbfd89b348846b920d97a1d32b88c85caf0d7bb423d4fcfab7c44349aaceb82c</li>

    <li>SHA512:
    f4b14619d0b451a7d06881c39165a09a0e214912ef00292219d7274e878d0965832a5285277e8937257d9b1c8564033c63e552c9813b048da73817d5902d4035</li>

    <li>BLAKE2b:
    784e66df117df8e12ab2a44797e3f2cb592443be67d15a6ccfc6eb7449c063fd11dc7bb1c3201c1d745734023d2eb4280da4a79418e796e621e0529e2adb7cc3</li>

    <li>WHIRLPOOL:
    84ee085d7c40431968a06cb9f92f019eaef2871c056fe1496021ec4e0038134444f03dfac2eea39eb48cb6a000f6bebfa11b181191f4b2dd51afd367b427bd68</li>
  </ul>

  <p>Mirrors for the download are below. Note that GitHub checksums on the ZIP or TAR are
  different because the service creates the archive from sources.</p>

  <ul>
    <li><a href="//github.com/weidai11/cryptopp/releases/tag/CRYPTOPP_8_0_0">GitHub
    cryptopp800.zip</a></li>
  </ul>

  <h2>Release Notes</h2>

  <p>The release notes for Crypto++ 8.0 follows.</p>

  <ul>
    <li>major release, recompile of programs required</li>

    <li>expanded community input and support</li>

    <li style="list-style: none">
      <ul>
        <li>54 unique contributors as of this release</li>
      </ul>
    </li>

    <li>add x25519 key exchange and ed25519 signature scheme</li>

    <li>add limited Asymmetric Key Package support from RFC 5958</li>

    <li>add Power9 DARN random number generator support</li>

    <li>add CHAM, HC-128, HC-256, Hight, LEA, Rabbit, Simeck</li>

    <li>fix FixedSizeAllocatorWithCleanup may be unaligned on some platforms</li>

    <li>cutover to GNU Make-based cpu feature tests</li>

    <li>rename files with dashes to underscores</li>

    <li>fix LegacyDecryptor and LegacyDecryptorWithMAC use wrong MAC</li>

    <li>fix incorrect AES/CBC decryption on Windows</li>

    <li>avoid <tt>Singleton&lt;T&gt;</tt> when possible, avoid <tt>std::call_once</tt>
    completely</li>

    <li>fix SPARC alignment problems due to <tt>GetAlignmentOf&lt;T&gt;()</tt> on
    <tt>word64</tt></li>

    <li>add ARM AES asm implementation from Cryptogams</li>

    <li>remove <tt>CRYPTOPP_ALLOW_UNALIGNED_DATA_ACCESS</tt> support</li>

    <li>ported to MSVC 2017, Xcode 10.0, Sun Studio 12.6, GCC 8.0.1, MacPorts GCC 7.0,
    Clang 7.0, Intel C++ 17.00, IBM XL C/C++ 13.3</li>
  </ul>

  <h2>Bug Fixes and Minor Issues</h2>

  <p>The bug fix and minor issue list for Crypto++ 8.0 follows. Many non-trivial issues
  are tracked for auditing and C&amp;A purposes, but the list may not be complete. A
  number in parenthesis is the <a href=
  "http://github.com/weidai11/cryptopp/issues">GitHub Issue number</a>, if it was
  tracked. Sometimes a Git commit is referenced, but many trivial GitHub commits are
  omitted. Missing Issue numbers or lack of consecutiveness usually indicates feature
  requests and "won't fix/can't fix" type reports.</p>

  <ul>
    <li>add ed25519 signatures (Issue 764, PR 767)</li>

    <li>add x25519 key exchange (Issue 761, PR 762)</li>

    <li>add Hygon Dhyana processor support (PR 765)</li>

    <li>add Power9 DARN rng support (Issue 747, PR 748)</li>

    <li>add HC-128 stream cipher (Issue 679)</li>

    <li>add Rabbit stream cipher (Issue 678)</li>

    <li>add Simeck lightweight block cipher (Issue 675)</li>

    <li>add HIGHT lightweight block cipher (Issue 672)</li>

    <li>add CHAM lightweight block cipher (PR 670)</li>

    <li>add LEA lightweight block cipher (Issue 669)</li>

    <li>add ARM AES asm from Cryptogams (Issue 683)</li>

    <li>add Make-based cpu feature tests (Issue 741, Issue 737)</li>

    <li>add VectorSource (Issue 730)</li>

    <li>add AES-NI accelerated SM4 encryption (Issue 540)</li>

    <li>add XOP aware ChaCha (Commit ed4d57cecbd4)</li>

    <li>add XOP aware SIMON and SPECK (Commit 210995b867b0)</li>

    <li>add XOP aware CHAM and LEA (Commit babdf8b38b2b)</li>

    <li>add XOP aware SIMECK (Commit 67f421174ccc)</li>

    <li>add SSSE3 rotates when available (Commit b4c4c5aa14c7)</li>

    <li>add SONAME to shared object for Solaris (Commit 9886b555d073)</li>

    <li>add <tt>AlgorithmProvider</tt> member function to <tt>Algorithm</tt> class (PR
    681)</li>

    <li>add search for test vectors and test data (Issue 760)

      <ul>
        <li>only search well known locations for Linux LSB install</li>
      </ul>
    </li>

    <li>remove OS sockets and threads (Issue 178, Issue 208, PR 703)

      <ul>
        <li>C++11 socket, threads and synchronization classes may be used</li>
      </ul>
    </li>

    <li>disable Panama ASM on X86 (Issue 758)</li>

    <li>add <tt>CRYPTOPP_DISABLE_MIXED_ASM</tt> define (Issue 756, PR 757)

      <ul>
        <li>folds two previous defines <tt>CRYPTOPP_CLANG_INTEGRATED_ASSEMBER</tt> and
        <tt>CRYPTOPP_DISABLE_INTEL_ASM</tt></li>
      </ul>
    </li>

    <li>various SunCC improvements for Solaris</li>

    <li>various XLC improvements for PowerPC</li>

    <li>make GF2_32 class member of RawIDA</li>

    <li>move <tt>DEFAULT_CHANNEL</tt> and <tt>AAD_CHANNEL</tt> into <tt>cryptlib.cpp</tt>
    (Issue 751)</li>

    <li>various updates to <tt>GNUmakefile</tt> and <tt>GNUmakefile-cross</tt></li>

    <li>fix PowerMac G4 and G5 builds (Issue 741)</li>

    <li>rewrite BLAKE2 classes (Issue 731, Commit a65d55a3fd0b)</li>

    <li>use C++ compiler for all source files (PR 733)</li>

    <li>fix missing cpu-features.o in Android shared object (PR 733)</li>

    <li>rename PPC vector functions from VectorFunc to VecFunc (Commit f6e04e5f338d)</li>

    <li>fix global optimization bug for ChaCha AVX2 under VS2017 (Issue 735)</li>

    <li>fix global optimization bug for AES SSE4.1 under VS2017 (Issue 649)</li>

    <li>add ability to Seek64 in test framework (Issue 732)</li>

    <li>sync <tt>CRYPTOPP_{BIG|LITTLE}_ENDIAN</tt> with Autotools (Commit
    c601213ce13f)</li>

    <li>sync <tt>CRYPTOPP_ARM_ACLE_AVAILABLE</tt> with Autotools (Commit
    d3a3189ba34f)</li>

    <li>fix ambiguous symbol <tt>BTEA::StaticAlgorithmName</tt> (Issue 726)</li>

    <li>fix <tt>LegacyDecryptor</tt> and <tt>LegacyDecryptorWithMAC</tt> (Issue 714)</li>

    <li>add <tt>-xregs=no%appl</tt> for SunCC on SPARC (Commit 03297cdfa6f3)</li>

    <li>fix missed conditions for XTR-DH domain parameters generation (Commit
    44cd7eb1ed84)</li>

    <li>fix <tt>FixedSizeAllocatorWithCleanup</tt> may be unaligned on some platforms
    (Issue 709)</li>

    <li>avoid <tt>Singleton&lt;T&gt;</tt> when possible (Issue 708)</li>

    <li>avoid <tt>std::call_once</tt> completely (Issue 707)</li>

    <li>add keccack.h and keccack.cpp for shared F1600 (Commit b9a6034a816b)

      <ul>
        <li>Provides common core function for SHA-3 and Keccack</li>
      </ul>
    </li>

    <li>fix SecBlock <tt>ELEMS_MAX</tt> in Visual Studio .Net (2002 and 2003) (Commit
    d47f69acf376)</li>

    <li>fix compiler crash in Visual Studio .Net (2002 and 2003) due to GCM (Commit
    c24f17b7a26b)</li>

    <li>fix compile on Visual Studio 2005 without service packs (Commit
    874f79c32061)</li>

    <li>disable X32 inline assembly (Issue 686, PR 704)</li>

    <li>fix build with Embarcadero C++ Builder 10.2.3 (Issue 696)</li>

    <li>rewrite RDRAND and RDSEED classes (Commit 1bd18dd5ba62)</li>

    <li>disable ASM for iOS simulators (Commit 3753a4301d0f)</li>

    <li>refactor <tt>bench{N}.cpp</tt>, <tt>regtest{N}.cpp</tt> and
    <tt>validate{N}.cpp</tt>

      <ul>
        <li>resource constrained devices and SunCC could not compile them without
        hassles</li>
      </ul>
    </li>

    <li>fix SPARC alignment problems due to <tt>GetAlignmentOf&lt;T&gt;()</tt> on
    <tt>word64</tt> (Issue 691, Issue 690, Issue 689, Issue 403)</li>

    <li>fix Apple feature detection (Issue 685)</li>

    <li>fix "Error: symbol SHA512_Round is already defined" (Issue 684)</li>

    <li>workaround GCC and Clang in handling of same buffer for in and out (Commit
    49d852ee8c7c, Commit e580ed588a1c)</li>

    <li>fix missing <tt>Deflator::IsolatedInitialize</tt> during Gzip init (Issue
    660)</li>

    <li>remove <tt>CRYPTOPP_ALLOW_UNALIGNED_DATA_ACCESS</tt> support (Issue 682)</li>

    <li>remove unneeded code to accomodate variable block size (Issue 535)</li>

    <li>fix bad CHAM-64/ECB decryption with Clang at -O1 (Issue 677)</li>

    <li>add AVX and AVX2 runtime feature detection (Issue 671)</li>

    <li>fix missing <tt>Kalyna512_Info</tt> parameter (Issue 662)</li>

    <li>fix Threefish blocksize parameter (Issue 663)</li>

    <li>fix overcommit resources for Scrypt parallelization (Issue 641)</li>

    <li>fix various Clang warnings in headers (Issue 655)</li>

    <li>add recipe to install the library only (Issue 653)</li>

    <li>back-off <tt>HashTransformation</tt> asserts (Issue 652)</li>

    <li>use <tt>CRYPTOPP_ASSERT</tt> in Keccak and SHA3 (Issue 654)</li>

    <li>add AdditionalOptions property to VCXPROJ files (Issue 649)</li>

    <li>fix visibility for SIMON and SPECK (Issue 644)</li>
  </ul>

  <h2>MinGW 32-bit</h2>

  <p>MinGW 32-bit is failing self tests for LEA, SIMON, SPECK and SM4. MinGW 64-bit is
  OK. We don't know the cause and don't have a work-around.</p>

  <p>We are tracking the problem at <a href=
  "https://github.com/weidai11/cryptopp/issues/768">Issue 768, 32-bit MinGW self test
  failures</a>.</p>

  <h2>GNUmakefile</h2>

  <p>The <tt>GNUmakefile</tt> was changed to perform compile/link feature testing.
  Feature tests are performed using test programs in <tt>TestPrograms</tt>. The testing
  requires a clean compile and link to deem a feature available.</p>

  <p>The change was necessary because we were mis-detecting too many corner cases, like
  when <tt>arm_acle.h</tt> is available and which options less frequently used compilers
  support, like Oracle's SunCC and IBM's XL C/C++. Toolchains were also giving us
  problems because new compilers can be paired with older assemblers and linkers.</p>

  <p>Features are now tested similar to below.</p>
  <pre>
ifeq ($(SUN_COMPILER),1)
  ...
  SHANI_FLAG = -xarch=sha
else
  ...
  SHANI_FLAG = -msha
endif

TPROG = TestPrograms/test_x86_sha.cxx
TOPT = $(SHANI_FLAG)
HAVE_OPT = $(shell $(CXX) $(TCXXFLAGS) $(ZOPT) $(TOPT) $(TPROG) -o $(TOUT) 2&gt;&amp;1 | tr ' ' '\n' | wc -l)
ifeq ($(strip $(HAVE_OPT)),0)
  SHANI_FLAG := $(SSE42_FLAG) $(SHANI_FLAG)
  SUN_LDFLAGS += $(SHANI_FLAG)
else
  SHANI_FLAG =
endif
</pre>

  <p>The new feature testing works well since the test merely looks for the cleanliness
  of a build using <tt>tr ' ' '\n' | wc -l</tt>. Any output causes <tt>HAVE_OPT</tt> to
  be non-0, which is interpreted as a failure in the toolchain. This follows the "dark
  and silent" cockpit design used in aviation.</p>

  <p>The reworked testing is language agnostic. Formerly we tested a method that looked
  for bad messages, like <tt>illegal option</tt>. The problem was, we were checking for
  English messages. Error messages are localized to a user's language so we missed
  messages like <tt>opci√≥n ilegal</tt> in Spanish.</p>

  <p>Finally, the new tests do not suffer traditional failures, like checking inaccurate
  compiler or linker return codes or missing compiler diagnostics like <tt>illegal option
  -xarch=sha</tt>. The case of <tt>illegal option -xarch=sha</tt> is from SunCC. SunCC
  does not support SHA extensions, and the compiler (incorrectly?) returned success
  instead of failure when testing <tt>-xarch=sha</tt>. Autotools and CMake both reported
  the option available which lead to a compile failure when <tt>sha_simd.cpp</tt> was
  compiled.</p>

  <h2>Sockets and threads</h2>

  <p>Crypto++ removed Operating System specific code for sockets and threads. OS specific
  socket and thread support was removed to streamline the library and focus on the
  cryptography. The removal will also avoid porting troubles which surface on occassion.
  Users can re-install the files or utilize C++11 support, if desired.</p>

  <p>The list of files removed are as follows.</p>

  <ul>
    <li>network.cpp</li>

    <li>network.h</li>

    <li>socketft.cpp</li>

    <li>socketft.h</li>

    <li>trdlocal.cpp</li>

    <li>trdlocal.h</li>

    <li>wait.cpp</li>

    <li>wait.h</li>

    <li>winpipes.cpp</li>

    <li>winpipes.h</li>
  </ul>

  <p>A wiki page was setup to document the change and provide the old source files at
  <a href="https://www.cryptopp.com/wiki/Sockets_and_Threads">Sockets and
  Threads</a>.</p>

  <h2>setenv-android.sh</h2>

  <p>The cross-compile script <tt>setenv-android.sh</tt> is no longer viable for building
  the library using the Android NDK. Recent NDK changes has mostly obsoleted the script.
  We are moving to a new script but it is not ready at the moment. Also see Issue 763,
  <a href="https://github.com/weidai11/cryptopp/issues/763">Building for Android using
  NDK not supported on Windows hosts</a>.</p>

  <p>We have a GitHub setup with yet another build system at <a href=
  "https://github.com/noloader/cryptopp-android">cryptopp-android</a>. It provides
  <tt>Android.mk</tt> for Android's build system.</p>

  <h2>Notes for Distros</h2>

  <p>The self tests were changed to make it easier to locate the <tt>TestData</tt> and
  <tt>TestVector</tt> folders. The change was made to make it easier on a typical user
  who did not RTFM or know how to set defines through the command line. However, the
  change increases attack surface slightly since there's a search involved.</p>

  <p>The new behavior is to search for the test data and vectors in:</p>

  <ol>
    <li>current working directory (for users, pre-install)</li>

    <li><tt>CRYPTOPP_DATA_DIR</tt> (for distros)</li>

    <li><tt>../share</tt> (for users, post-install)</li>
  </ol>

  <p>The differences which increase attack surface are (1) and (3). They are new for
  users, and they ensure <tt>./cryptest.exe v</tt> works before and after installation
  without setting <tt>CRYPTOPP_DATA_DIR</tt>. Item (3) conforms to <a href=
  "https://wiki.linuxfoundation.org/lsb/start">Linux Standard Base (LSB)</a> and
  accomodates a staged install with <tt>DESTDIR</tt>.</p>

  <p>Distributions can go back to the former behavior of only using
  <tt>CRYPTOPP_DATA_DIR</tt> by opening <tt>config.h</tt> and uncommenting
  <tt>CRYPTOPP_DISABLE_DATA_DIR_SEARCH</tt>. However, we recommend distros do nothing as
  they are only data files so they will be either (1) well formed and parsed; or (2)
  ill-formed and rejected. The project does not try to interpret them as code or exectute
  them.</p>

  <p>Also see <a href="https://www.cryptopp.com/wiki/DataDir">DataDir</a> on the Crypto++
  wiki and <a href="https://github.com/weidai11/cryptopp/issues/760">Issue 760</a> for
  detailed information on the change, including commits.</p>

  <h2>File Changes</h2>

  <p>Below is a list of all files that were added at Crypto++ 8.0. At this release we
  renamed files using a dash to an underscore for GDB debugging (autocomplete does not
  work when using a dash). For example, <tt>adv-simd.h</tt> was renamed
  <tt>adv_simd.h</tt>. The renames were not included in the list.</p>
  <pre>
$ git diff-tree -r --summary CRYPTOPP_7_0_0 CRYPTOPP_8_0_0 | grep -v "change" | awk '{$2=$3=""; print $0}' | egrep '(\.h|\.cpp|\.txt|\.dat)'
create   aes_armv4.S
create   aes_armv4.h
create   chacha_avx.cpp
create   chacha_simd.cpp
create   cham.cpp
create   cham.h
create   cham_simd.cpp
create   darn.cpp
create   darn.h
create   donna.h
create   donna_32.cpp
create   donna_32.h
create   donna_64.cpp
create   donna_64.h
create   donna_sse.cpp
create   donna_sse.h
create   hc128.cpp
create   hc128.h
create   hc256.cpp
create   hc256.h
create   hight.cpp
create   hight.h
create   keccakc.cpp
create   keccakc.h
create   lea.cpp
create   lea.h
create   lea_simd.cpp
create   ppc_power7.cpp
create   ppc_power8.cpp
create   ppc_power9.cpp
create   ppc_simd.cpp
create   ppc_simd.h
create   rabbit.cpp
create   rabbit.h
create   simeck.cpp
create   simeck.h
create   simeck_simd.cpp
create   sm4_simd.cpp
create   validat5.cpp
create   validat6.cpp
create   validat7.cpp
create   validat8.cpp
create   validat9.cpp
create   validat10.cpp
create   xed25519.cpp
create   xed25519.h
</pre>
</body>
</html>
